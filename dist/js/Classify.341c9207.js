(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Classify"],{"0157":function(t,i,e){"use strict";e("d646")},"0929":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"classify-container"},[e("RouterLink",{staticClass:"search-container",attrs:{tag:"div",to:"search"}},[e("van-icon",{attrs:{name:"search"}}),e("div",[t._v("苹果大减价1元一斤")])],1),e("OneBar"),t.showSide?e("van-loading"):[e("LeftBar"),e("GoodsList")]],2)},n=[],c=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"oneTab",staticClass:"one-bar-container"},t._l(t.menuList,(function(i,s){return e("div",{key:i.imgURL,staticClass:"bar-item",class:{active:t.index===s},on:{touchend:function(i){return t.scroll(s,i)},touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},[e("div",{staticClass:"img-container"},[e("img",{attrs:{src:i.imgURL,alt:""}})]),e("div",{staticClass:"title"},[t._v(" "+t._s(i.title)+" ")])])})),0)},o=[],a={data:function(){return{index:0,move:!1,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},methods:{scroll:function(t,i){if(!this.move){this.index=t;var e=this.$refs.oneTab,s=i.target.offsetWidth,n=i.target.getBoundingClientRect().left,c=this.$refs.oneTab.offsetWidth;e.scrollLeft+=s/2+n-c/2,this.$store.dispatch("getLeftMeun",{type:this.menuList[this.index].title}),this.$store.commit("setIndex",0)}}},created:function(){this.$store.dispatch("getLeftMeun",{type:this.menuList[0].title}),this.$store.commit("setIndex",0)}},u=a,r=(e("5172"),e("2877")),l=Object(r["a"])(u,c,o,!1,null,"5cfcc1ab",null),d=l.exports,g=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"leftBar",staticClass:"left-bar-container"},t._l(t.leftMeun,(function(i,s){return e("div",{key:i.imgURL,staticClass:"bar-item",class:{active:t.index===s},on:{touchend:function(i){return t.scroll(s,i)},touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},[t._v(" "+t._s(i="number"==typeof i?"全部":i)+" ")])})),0)},m=[],h=e("5530"),p=e("5880"),f={data:function(){return{move:!1}},computed:Object(h["a"])({},Object(p["mapState"])(["leftMeun","index"])),created:function(){this.$store.commit("setGoodsList",[]),this.$store.dispatch("getGoodsList",{type:this.leftMeun[0],page:1,sort:"all"})},methods:{scroll:function(t,i){if(!this.move){this.$store.commit("setIndex",t);var e=this.$refs.leftBar,s=i.target.offsetHeight,n=i.target.getBoundingClientRect().top,c=e.offsetHeight,o=e.getBoundingClientRect().top;e.scrollTop+=n+s/2-o-c/2,this.$store.commit("setGoodsList",[]),this.$store.dispatch("getGoodsList",{type:this.leftMeun[t],page:1,size:10,sort:"all"})}}}},y=f,v=(e("0157"),Object(r["a"])(y,g,m,!1,null,"556df18a",null)),b=v.exports,j=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"goods-list-container"},[e("div",{staticClass:"list-header van-hairline--top-bottom"},[e("div",{class:{active:"all"==t.type},on:{touchend:function(i){return t.changeType("all")}}},[t._v(" 综合 ")]),e("div",{class:{active:"sale"==t.type},on:{touchend:function(i){return t.changeType("sale")}}},[t._v(" 销量 ")]),e("div",{staticClass:"price",class:{active:"price-down"==t.type||"price-up"==t.type},on:{touchend:function(i){return t.changeType("price")}}},[t._v(" 价格 "),e("van-icon",{attrs:{name:"price-down"==t.type?"arrow-down":"price-up"==t.type?"arrow-up":""}})],1)]),e("div",{staticClass:"list-content"},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(i){t.refreshing=i},expression:"refreshing"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.goodsList,(function(i){return e("GoodsCard",t._b({key:i.id,attrs:{num:t.counterMap[i.id]}},"GoodsCard",i,!1))})),1)],1)],1)])},L=[],_=e("458a"),C={data:function(){return{loading:!1,finished:!1,refreshing:!1,type:"all",page:1}},components:{GoodsCard:_["a"]},computed:Object(p["mapState"])(["goodsList","counterMap"]),methods:{onLoad:function(){var t=this;setTimeout((function(){t.refreshing?t.refreshing=!1:(t.page+=1,t.$store.dispatch("getGoodsList",{page:t.page,sort:t.type}).then((function(i){i?t.loading=!1:t.finished=!0})))}),1e3)},onRefresh:function(){this.$store.commit("setGoodsList",[]),this.page=1,this.finished=!1,this.$store.dispatch("getGoodsList",{page:this.page,sort:this.type}),this.loading=!1,this.onLoad()},changeType:function(t){"all"==t?this.type="all":"sale"==t?this.type="sale":"price-up"==this.type?this.type="price-down":this.type="price-up",this.onRefresh()}}},k=C,R=(e("6a1b"),Object(r["a"])(k,j,L,!1,null,"5dbde995",null)),x=R.exports,$={data:function(){return{meunList:[]}},components:{OneBar:d,LeftBar:b,GoodsList:x},computed:Object(p["mapState"])(["showSide"])},U=$,w=(e("3ee6"),Object(r["a"])(U,s,n,!1,null,"560aa54e",null));i["default"]=w.exports},"385a":function(t,i,e){"use strict";e("b69f")},"3e5d":function(t,i,e){},"3ee6":function(t,i,e){"use strict";e("3e5d")},"458a":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"card-container van-hairline--bottom"},[e("div",{staticClass:"card-img"},[e("img",{ref:"img",attrs:{src:t.images[0]}})]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),e("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),e("div",{staticClass:"tags"},t._l(t.tags,(function(i){return e("div",{key:i},[t._v(t._s(i))])})),0),e("div",{staticClass:"prices"},[t._v("￥"+t._s(t.price))]),e("div",{staticClass:"counter"},[t.num?e("div",[e("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png",alt:""},on:{touchend:function(i){return t.counter(t.id,-1)}}})]):t._e(),t.num?e("div",{staticClass:"num"},[t._v(" "+t._s(t.num)+" ")]):t._e(),e("div",[e("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png",alt:""},on:{touchend:function(i){return t.counter(t.id,1)}}})])])])])},n=[],c=e("8bbf"),o=e.n(c),a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.exist?e("div",{staticClass:"item",style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:"translate("+t.moveX+"px,"+t.moveY+"px) scale("+t.sx+","+t.sy+")"}},[e("img",{attrs:{src:t.src}})]):t._e()},u=[],r=(e("9ad6"),e("2877")),l={},d=Object(r["a"])(l,a,u,!1,null,"15a4b923",null),g=d.exports,m=o.a.extend(g),h=function(t){var i=t.startX,e=t.startY,s=t.endX,n=t.endY,c=t.src,o=t.width,a=t.height,u=new m({el:document.createElement("div"),data:function(){return{moveX:i,moveY:e,src:c,sx:1,sy:1,opacity:1,exist:!0,width:o,height:a}}});document.body.appendChild(u.$el),setTimeout((function(){u.moveX=s,u.moveY=n,u.sx=.1,u.sy=.1,u.opacity=0,setTimeout((function(){u.exist=!1}),1e3)}),0)},p={props:["images","tags","title","desc","price","id","num","onify"],methods:{counter:function(t,i){if(this.$store.commit("storageChange",{id:t,value:i}),-1!=i&&!this.onify){var e=this.$refs.img.getBoundingClientRect(),s=e.top,n=e.left,c=this.$refs.img,o=c.offsetWidth,a=c.offsetHeight,u=document.getElementById("shop-card"),r=u.getBoundingClientRect(),l=r.top,d=r.left,g=u.offsetWidth,m=u.offsetHeight,p=d+g/2,f=l+m/2;h({startY:s,startX:n,width:o,height:a,src:this.$refs.img.src,endX:p,endY:f})}}}},f=p,y=(e("385a"),Object(r["a"])(f,s,n,!1,null,"37e86a2b",null));i["a"]=y.exports},5172:function(t,i,e){"use strict";e("a089")},"6a1b":function(t,i,e){"use strict";e("e443")},"9ad6":function(t,i,e){"use strict";e("a9e8")},a089:function(t,i,e){},a9e8:function(t,i,e){},b69f:function(t,i,e){},d646:function(t,i,e){},e443:function(t,i,e){}}]);
//# sourceMappingURL=Classify.341c9207.js.map