(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Classify"],{"0157":function(t,e,i){"use strict";i("d646")},"0929":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-container"},[i("RouterLink",{staticClass:"search-container",attrs:{tag:"div",to:"search"}},[i("van-icon",{attrs:{name:"search"}}),i("div",[t._v("苹果大减价1元一斤")])],1),i("OneBar"),t.showSide?i("van-loading"):[i("LeftBar"),i("GoodsList")]],2)},n=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"oneTab",staticClass:"one-bar-container"},t._l(t.menuList,(function(e,s){return i("div",{key:e.imgURL,staticClass:"bar-item",class:{active:t.index===s},on:{touchend:function(e){return t.scroll(s,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:e.imgURL,alt:""}})]),i("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")])])})),0)},o=[],a={data:function(){return{index:0,move:!1,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},methods:{scroll:function(t,e){if(!this.move){this.index=t;var i=this.$refs.oneTab,s=e.target.offsetWidth,n=e.target.getBoundingClientRect().left,c=this.$refs.oneTab.offsetWidth;i.scrollLeft+=s/2+n-c/2,this.$store.dispatch("getLeftMeun",{type:this.menuList[this.index].title}),this.$store.commit("setIndex",0)}}},created:function(){this.$store.dispatch("getLeftMeun",{type:this.menuList[0].title}),this.$store.commit("setIndex",0)}},r=a,u=(i("5172"),i("2877")),l=Object(u["a"])(r,c,o,!1,null,"5cfcc1ab",null),d=l.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"leftBar",staticClass:"left-bar-container"},t._l(t.leftMeun,(function(e,s){return i("div",{key:e.imgURL,staticClass:"bar-item",class:{active:t.index===s},on:{touchend:function(e){return t.scroll(s,e)},touchstart:function(e){t.move=!1},touchmove:function(e){t.move=!0}}},[t._v(" "+t._s(e="number"==typeof e?"全部":e)+" ")])})),0)},m=[],h=i("5530"),p=i("5880"),f={data:function(){return{move:!1}},computed:Object(h["a"])({},Object(p["mapState"])(["leftMeun","index"])),created:function(){this.$store.commit("setGoodsList",[]),this.$store.dispatch("getGoodsList",{type:this.leftMeun[0],page:1,sort:"all"})},methods:{scroll:function(t,e){if(!this.move){this.$store.commit("setIndex",t);var i=this.$refs.leftBar,s=e.target.offsetHeight,n=e.target.getBoundingClientRect().top,c=i.offsetHeight,o=i.getBoundingClientRect().top;i.scrollTop+=n+s/2-o-c/2,this.$store.commit("setGoodsList",[]),this.$store.dispatch("getGoodsList",{type:this.leftMeun[t],page:1,size:10,sort:"all"})}}}},v=f,y=(i("0157"),Object(u["a"])(v,g,m,!1,null,"556df18a",null)),b=y.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-list-container"},[i("div",{staticClass:"list-header van-hairline--top-bottom"},[i("div",{class:{active:"all"==t.type},on:{touchend:function(e){return t.changeType("all")}}},[t._v(" 综合 ")]),i("div",{class:{active:"sale"==t.type},on:{touchend:function(e){return t.changeType("sale")}}},[t._v(" 销量 ")]),i("div",{staticClass:"price",class:{active:"price-down"==t.type||"price-up"==t.type},on:{touchend:function(e){return t.changeType("price")}}},[t._v(" 价格 "),i("van-icon",{attrs:{name:"price-down"==t.type?"arrow-down":"price-up"==t.type?"arrow-up":""}})],1)]),i("div",{staticClass:"list-content"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodsList,(function(e){return i("GoodsCard",t._b({key:e.id,attrs:{num:t.counterMap[e.id]}},"GoodsCard",e,!1))})),1)],1)],1)])},L=[],_=i("458a"),C={data:function(){return{loading:!1,finished:!1,refreshing:!1,type:"all",page:1}},components:{GoodsCard:_["a"]},computed:Object(p["mapState"])(["goodsList","counterMap"]),methods:{onLoad:function(){var t=this;setTimeout((function(){t.refreshing?t.refreshing=!1:(t.page+=1,t.$store.dispatch("getGoodsList",{page:t.page,sort:t.type}).then((function(e){e?t.loading=!1:t.finished=!0})))}),1e3)},onRefresh:function(){this.$store.commit("setGoodsList",[]),this.page=1,this.finished=!1,this.$store.dispatch("getGoodsList",{page:this.page,sort:this.type}),this.loading=!1,this.onLoad()},changeType:function(t){"all"==t?this.type="all":"sale"==t?this.type="sale":"price-up"==this.type?this.type="price-down":this.type="price-up",this.onRefresh()}}},k=C,R=(i("6a1b"),Object(u["a"])(k,j,L,!1,null,"5dbde995",null)),x=R.exports,$={data:function(){return{meunList:[]}},components:{OneBar:d,LeftBar:b,GoodsList:x},computed:Object(p["mapState"])(["showSide"])},U=$,w=(i("3ee6"),Object(u["a"])(U,s,n,!1,null,"560aa54e",null));e["default"]=w.exports},"2acb":function(t,e,i){"use strict";i("b0f7")},"3e5d":function(t,e,i){},"3ee6":function(t,e,i){"use strict";i("3e5d")},"458a":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-container van-hairline--bottom"},[i("div",{staticClass:"card-img"},[i("img",{ref:"img",attrs:{src:t.images[0]}})]),i("div",{staticClass:"card-content"},[i("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),i("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),i("div",{staticClass:"prices"},[t._v("￥"+t._s(t.price))]),t.price_off?i("span",[t._v("限时折扣价"+t._s(t.price_off))]):t._e(),i("div",{staticClass:"tags"},t._l(t.tags,(function(e){return i("div",{key:e},[t._v(t._s(e))])})),0),i("div",{staticClass:"counter"},[t.num?i("div",[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png",alt:""},on:{touchend:function(e){return t.counter(t.id,-1)}}})]):t._e(),t.num?i("div",{staticClass:"num"},[t._v(" "+t._s(t.num)+" ")]):t._e(),i("div",[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png",alt:""},on:{touchend:function(e){return t.counter(t.id,1)}}})])])])])},n=[],c=i("8bbf"),o=i.n(c),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.exist?i("div",{staticClass:"item",style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:"translate("+t.moveX+"px,"+t.moveY+"px) scale("+t.sx+","+t.sy+")"}},[i("img",{attrs:{src:t.src}})]):t._e()},r=[],u=(i("9ad6"),i("2877")),l={},d=Object(u["a"])(l,a,r,!1,null,"15a4b923",null),g=d.exports,m=o.a.extend(g),h=function(t){var e=t.startX,i=t.startY,s=t.endX,n=t.endY,c=t.src,o=t.width,a=t.height,r=new m({el:document.createElement("div"),data:function(){return{moveX:e,moveY:i,src:c,sx:1,sy:1,opacity:1,exist:!0,width:o,height:a}}});document.body.appendChild(r.$el),setTimeout((function(){r.moveX=s,r.moveY=n,r.sx=.1,r.sy=.1,r.opacity=0,setTimeout((function(){r.exist=!1}),1e3)}),0)},p={props:["images","tags","title","desc","price","id","num","price_off","onify"],methods:{counter:function(t,e){if(this.$store.commit("storageChange",{id:t,value:e}),-1!=e&&!this.onify){var i=this.$refs.img.getBoundingClientRect(),s=i.top,n=i.left,c=this.$refs.img,o=c.offsetWidth,a=c.offsetHeight,r=document.getElementById("shop-card"),u=r.getBoundingClientRect(),l=u.top,d=u.left,g=r.offsetWidth,m=r.offsetHeight,p=d+g/2,f=l+m/2;h({startY:s,startX:n,width:o,height:a,src:this.$refs.img.src,endX:p,endY:f})}}}},f=p,v=(i("2acb"),Object(u["a"])(f,s,n,!1,null,"7ceab99c",null));e["a"]=v.exports},5172:function(t,e,i){"use strict";i("a089")},"6a1b":function(t,e,i){"use strict";i("e443")},"9ad6":function(t,e,i){"use strict";i("a9e8")},a089:function(t,e,i){},a9e8:function(t,e,i){},b0f7:function(t,e,i){},d646:function(t,e,i){},e443:function(t,e,i){}}]);
//# sourceMappingURL=Classify.68200a94.js.map